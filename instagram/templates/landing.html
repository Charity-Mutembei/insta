{%extends 'base.html'%}
{% block content %}


<!-- stories  -->

<div class="container"style="margin-top: 10px;" >
    <div class="container">
      <div class="right-side" style="width: 50%;">
          <div class="row">
              <div class="col">
                <div class="col">
                    <div class="profiles" id="slider-wrap" style="border: 0.2px solid grey; background-color: white; border-radius: 5px; height: 3.5cm; padding-top: 20px; padding-left: 20px; overflow: hidden">
                        <div class="row" id="slider" style=" will-change: transform;">
                          {% for post in posts %}

                            <div class="col" id="slider-item" style=" overflow: hidden;">
                                <img src="{{post.post_image.url}}"  id="slider-image" alt="charity"  style="width: 1.5cm; height: 1.5cm; border-radius: 6cm; ">
                            </div>

                            {% endfor %}
                        </div>
                        <div class="slide-control" style="transform: translateY(-50%); display: flex; color: white; margin-top: 5%;" >
                          <button id="prev-btn" style="cursor: pointer; background: transparent; outline: none;" >
                            <i class="fa-solid fa-circle-chevron-left"></i>
                          </button>
                          <button id="next-btn" style="cursor: pointer; background: transparent; outline: none; margin-left: 83%; " >
                            <i class="fa-solid fa-circle-chevron-right"></i>
                          </button>
                        </div>
                    </div>

                    <!-- posts -->

                    <div class="stories" >
                       <div class="row">

                          {% for post in posts %}
                           <div class="col" style="margin-top: 2%; ">


                            <div class="card" style="width: 31.65rem;">
                                <div class="card-body">
                                    <p class="card-text">{{post_item.user.username}}</p>
                                </div>
                                <img class="card-img-top" src="{{ post.post_image.url }}" alt="Card image cap">
                                <div class="card-body">
                                  <div class="row">
                                    <div class="col">
                                      <div class="love">
                                        <svg aria-label="Like" class="_ab6-" color="#8e8e8e" fill="#8e8e8e" height="24" role="img" viewBox="0 0 24 24" width="24"><path d="M16.792 3.904A4.989 4.989 0 0121.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 014.708-5.218 4.21 4.21 0 013.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 013.679-1.938m0-2a6.04 6.04 0 00-4.797 2.127 6.052 6.052 0 00-4.787-2.127A6.985 6.985 0 00.5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 003.518 3.018 2 2 0 002.174 0 45.263 45.263 0 003.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 00-6.708-7.218z"></path></svg>
                                  </div>
                                    </div>
                                    <div class="col">
                                        <div class="message">
                                    <svg aria-label="Comment" class="_ab6-" color="#8e8e8e" fill="#8e8e8e" height="24" role="img" viewBox="0 0 24 24" width="24"><path d="M20.656 17.008a9.993 9.993 0 10-3.59 3.615L22 22z" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="2"></path></svg>
                                  </div>
                                    </div>
                                    <div class="col">
                                      <div class="share">
                                        <svg aria-label="Share Post" class="_ab6-" color="#8e8e8e" fill="#8e8e8e" height="24" role="img" viewBox="0 0 24 24" width="24"><line fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="2" x1="22" x2="9.218" y1="3" y2="10.083"></line><polygon fill="none" points="11.698 20.334 22 3.001 2 3.001 9.218 10.084 11.698 20.334" stroke="currentColor" stroke-linejoin="round" stroke-width="2"></polygon></svg>
                                      </div>
                                    </div>
                                      <div class="col">
                                        <div class="save">
                                        <svg aria-label="Save" class="_ab6-" color="#8e8e8e" fill="#8e8e8e" height="24" role="img" viewBox="0 0 24 24" width="24"><polygon fill="none" points="20 21 12 13.44 4 21 4 3 20 3 20 21" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></polygon></svg>
                                      </div>
                                      </div>
                                  </div>

                                  {%for tag in tags %}

                                  <p class="card-text">{{tag.name}}</p>

                                  {% endfor %}

                                </div>
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item">{{post.likes}} likes</li>
                                    <li class="list-group-item"> <strong>{{user.username}}</strong> {{post.post_text}}</li>

                                  </ul>
                              </div>


                           </div>
                             {% endfor %}

                       </div>

                    </div>
            </div>

            <div class="left-side" style="margin-left: 100%; margin-top: -205%;">
                <div class="row">
                    <div class="col">
                        <div class="col">
                            <div class="profile-switch">
                                <div class="row">
                                    <div class="col">
                                        <img src="/static/pic.jpeg" alt=""
                                            style="width: 1.5cm; height: 1.5cm; border-radius: 6cm; ">
                                    </div>
                                    <div class="col" style="margin-left: 250%; margin-top: -150%;">
                                        <p>mutembei.charity</p>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col" style="margin-left: 990%; margin-top: -150%;">
                        <a href="#">switch</a>
                    </div>
                </div>
                <div class="switch" style="margin: 1.5cm;">
                    <p>Suggestions</p>
                </div>
                <div class="row">
                    <div class="col">
                        <div class="col">
                            <div class="profile-switch">
                                <div class="row">
                                    <div class="col">
                                        <img src="/static/pic.jpeg" alt=""
                                            style="width: 1.5cm; height: 1.5cm; border-radius: 6cm; ">
                                    </div>
                                    <div class="col" style="margin-left: 250%; margin-top: -150%;">
                                        <p>mutembei.charity</p>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col" style="margin-left: 990%; margin-top: -150%;">
                        <a href="#">Follow</a>
                    </div>
                </div>
            </div>
            </div>
            </div>
      </div>
    </div>
</div>
<script>
  let sliderwrap = document.querySelector('#slider-wrap');
  let slider = document.querySelector('#slider');
  let nextBtn = document.getElementById('next-btn');
  let prevBtn = document.getElementById('prev-btn');


  let disableScroll = false;
  let items = [...document.querySelectorAll('#slider-item')];
  let images = [...document.querySelectorAll('#slider-image')];

  images.forEach((image,idx )=>{
    image.style.backgroundImage = '{{post.post_image.url}}${idx+1}'
  })

  let startSlide = () =>{
    imageId = setInterval(() => {
      moveToNextSlide();
    }, interval);
  };

  images.forEach((image, idx) =>{
    addEventListener('transitioned', () => {
      image.style.transition = 'none';
      index = 1;
      slide.style.transform = 'translateX(${-slidewidth * index}px)';
    }
  });

  let moveToNextSlide = ()=>{
    slides = images
    if (index >= slides,length - 1) return;
    index++;
    slide.

  }


</script>
{% endblock %}
